<div id="inner-contents">

    <h1>Your location </h1>
    <div id="current">Initializing...</div>
    <div id="map_canvas" style="width:500px; height:400px"></div>

    <br><br>
    <a href="/" class="btn btn-primary">Find parking near me!</a>
    <a href="/" class="btn btn-primary">Search for a location</a>

  <br>
  <br>
</div>

<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

    <script>
    function initialiseMap()
    {
        var myOptions = {
            zoom: 16,
            mapTypeControl: true,
            mapTypeControlOptions: {style: google.maps.MapTypeControlStyle.DROPDOWN_MENU},
            navigationControl: true,
            navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},
            mapTypeId: google.maps.MapTypeId.ROADMAP
          }
      map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    }
    function initialise()
    {
      if(geoPosition.init())
      {
        document.getElementById('current').innerHTML="Receiving...";
        geoPosition.getCurrentPosition(showPosition,function(){document.getElementById('current').innerHTML="Couldn't get location"},{enableHighAccuracy:true});
      }
      else
      {
        document.getElementById('current').innerHTML="Functionality not available";
      }
    }

    function showPosition(p)
    {
      var latitude = parseFloat( p.coords.latitude );
      var longitude = parseFloat( p.coords.longitude );
      document.getElementById('current').innerHTML="latitude=" + latitude + " longitude=" + longitude;
      var pos=new google.maps.LatLng( latitude , longitude);
      map.setCenter(pos);
      map.setZoom(16);

      var marker = new google.maps.Marker({
          position: pos,
          map: map,
          title:"You are here"
      });

      google.maps.event.addListener(marker, 'click', function() {
        infowindow.open(map,marker);
      });

    }
    </script>
